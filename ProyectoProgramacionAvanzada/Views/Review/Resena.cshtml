@model List<ProyectoProgramacionAvanzada.Models.Resena>

@{
    ViewBag.Title = "Moderación de Reseñas";
}

<h2 class="mb-4">Moderación de Reseñas</h2>

@if (Model.Count == 0)
{
    <div class="alert alert-info">
        No hay reseñas pendientes por moderar.
    </div>

    <a href="@Url.Action("Dashboard", "Admin")" class="btn btn-primary">
        Ir al Dashboard
    </a>

    return;
}

<table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th>Producto</th>
            <th>Usuario</th>
            <th>Calificación</th>
            <th>Comentario</th>
            <th>Fecha</th>
            <th>Acciones</th>
        </tr>
    </thead>

    <tbody>
        @foreach (var r in Model)
        {
            <tr>
                <td>@r.Producto.Nombre</td>
                <td>@r.Usuario.Email</td>
                <td>@r.Calificacion ★</td>
                <td>@r.Comentario</td>
                <td>@r.FechaCreacion.ToString("dd/MM/yyyy")</td>

                <td>
                    <a href="@Url.Action("Aprobar", "Review", new { id = r.Id })"
                       class="btn btn-success btn-sm">
                        Aprobar
                    </a>

                    <a href="@Url.Action("Rechazar", "Review", new { id = r.Id })"
                       class="btn btn-danger btn-sm ml-1">
                        Rechazar
                    </a>
                </td>
            </tr>
        }
    </tbody>
</table>
